{"pageProps":{"site":{"domain":"yangsoon.github.io","name":"YangSoon","rootNotionPageId":"72a669717cf642c2a2524439d99d8f44","rootNotionSpaceId":null,"description":"YangSoon, Cloud Native Developer"},"recordMap":{"block":{"3acacd6e-23bb-46b2-a8b0-cc56d9a1cc02":{"role":"reader","value":{"id":"3acacd6e-23bb-46b2-a8b0-cc56d9a1cc02","version":62,"type":"page","properties":{"Zr<q":[["rust,tokio"]],"title":[["Creating a Chat Server with async Rust and Tokio",[["b"]]]]},"content":["cfd7c021-0118-4b72-a08e-cc790e937f7b","96bd5804-cceb-44cd-90c8-e22fb43ddb70"],"format":{"page_icon":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/8bcdce55-2a0f-4112-8281-ef944827d6dc/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221025%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221025T141036Z&X-Amz-Expires=86400&X-Amz-Signature=ed0fa1241fbad53b2caf3356dd9b718f5228e187f6bf5f14465eff3cad7835b4&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject","page_cover":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d1d9f39b-bb16-4bd1-a43f-abeeb0d6aa44/pexels-pixabay-301614.jpeg","page_small_text":true,"copied_from_pointer":{"id":"b02e0749-a370-46e7-953c-ab310f50f79c","table":"block","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"},"page_cover_position":0.3475},"created_time":1666706688290,"last_edited_time":1666789620000,"parent_id":"ee9153a8-adb1-4abb-b2ef-ca5db61b6298","parent_table":"collection","alive":true,"copied_from":"b02e0749-a370-46e7-953c-ab310f50f79c","file_ids":["ce45c058-608c-4acc-a0e0-6b9d95e24ac9","8bcdce55-2a0f-4112-8281-ef944827d6dc","d1d9f39b-bb16-4bd1-a43f-abeeb0d6aa44"],"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"fec36412-bc7e-4ec3-972d-b67b1ddd20f8":{"role":"reader","value":{"id":"fec36412-bc7e-4ec3-972d-b67b1ddd20f8","version":22,"type":"collection_view","view_ids":["d89a95c7-6d44-4260-a6fa-43507563ce61"],"collection_id":"ee9153a8-adb1-4abb-b2ef-ca5db61b6298","format":{"collection_pointer":{"id":"ee9153a8-adb1-4abb-b2ef-ca5db61b6298","table":"collection","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"},"copied_from_pointer":{"id":"ab7c7afa-73c5-4b21-9759-89a9dee4d7e8","table":"block","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"created_time":1666706688291,"last_edited_time":1666789620000,"parent_id":"72a66971-7cf6-42c2-a252-4439d99d8f44","parent_table":"block","alive":true,"copied_from":"ab7c7afa-73c5-4b21-9759-89a9dee4d7e8","file_ids":["25901ebf-504a-4c49-8fab-5daf0521600d"],"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"72a66971-7cf6-42c2-a252-4439d99d8f44":{"role":"reader","value":{"id":"72a66971-7cf6-42c2-a252-4439d99d8f44","version":611,"type":"page","properties":{"title":[["流心家的羊"]]},"content":["393dcf2e-3358-490d-a8e7-ef0eb89e8dcb","23b11c7c-8146-4639-912c-14406e078331","416b3867-4b4b-4ac0-bc8e-196792a57c07","fec36412-bc7e-4ec3-972d-b67b1ddd20f8","8b4d1555-cb50-45a3-a875-87242a4548bb","4176c3f0-95d8-4ac1-9df1-7f705120857b","1118fa3e-20b3-488c-976d-3346081fde80","e7596c25-bafa-4ece-94b6-e7973c7a2ab3","20cd31e6-ea32-4c1b-b7ef-c70749c2f4cb","ab7c7afa-73c5-4b21-9759-89a9dee4d7e8","82aad922-cb77-4452-81bf-56f4e8e5a408"],"format":{"page_icon":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/37907dd5-3c76-4966-a419-daa027a84972/IMG_2189.jpg","page_full_width":false,"page_small_text":false,"copied_from_pointer":{"id":"bd32b787-e471-49f3-8941-174a9c6846b6","table":"block","spaceId":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"permissions":[{"role":"editor","type":"user_permission","user_id":"d1805983-7869-451d-bf8b-64135a5d4ee7"},{"role":"reader","type":"public_permission","added_timestamp":1660963691744,"allow_duplicate":false}],"created_time":1660961589760,"last_edited_time":1669944180000,"parent_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6","parent_table":"space","alive":true,"copied_from":"bd32b787-e471-49f3-8941-174a9c6846b6","file_ids":["63e89fe9-f5cd-4414-be0e-53d91aa54fc3","37907dd5-3c76-4966-a419-daa027a84972"],"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"cfd7c021-0118-4b72-a08e-cc790e937f7b":{"role":"reader","value":{"id":"cfd7c021-0118-4b72-a08e-cc790e937f7b","version":6,"type":"code","properties":{"title":[["use tokio::{\n    io::{AsyncBufReadExt, AsyncWriteExt, BufReader},\n    net::TcpListener,\n    sync::broadcast,\n};\n\n#[tokio::main]\nasync fn main() {\n    let listener = TcpListener::bind(\"localhost:5555\").await.unwrap();\n\n    println!(\"listening at localhost:5555\");\n\n    let (_tx, _rx) = broadcast::channel(10);\n\n    loop {\n        let (mut socket, addr) = listener.accept().await.unwrap();\n        println!(\"hello! {addr} is online\");\n        let tx = _tx.clone();\n        let mut rx = _tx.subscribe();\n\n        _tx.send((format!(\"{} enter chat\\n\", addr), addr)).unwrap();\n\n        tokio::spawn(async move {\n            let (reader, mut writer) = socket.split();\n            let mut reader = BufReader::new(reader);\n            let mut line = String::new();\n\n            loop {\n                tokio::select! {\n                    bytes_read = reader.read_line(&mut line) => {\n                        if bytes_read.unwrap() == 0 {\n                            continue;\n                        }\n                        tx.send((line.clone(), addr)).unwrap();\n                    }\n                    msg = rx.recv() => {\n                        let (msg_info, msg_addr) = msg.unwrap();\n                        if msg_addr != addr {\n                            writer.write_all(msg_info.as_bytes()).await.unwrap();\n                        }\n                    }\n                }\n            }\n        });\n    }\n}"]],"language":[["Rust"]]},"created_time":1666706873390,"last_edited_time":1666706820000,"parent_id":"3acacd6e-23bb-46b2-a8b0-cc56d9a1cc02","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"96bd5804-cceb-44cd-90c8-e22fb43ddb70":{"role":"reader","value":{"id":"96bd5804-cceb-44cd-90c8-e22fb43ddb70","version":6,"type":"video","properties":{"source":[["https://www.youtube.com/watch?v=Iapc-qGTEBQ"]]},"format":{"block_width":854,"display_source":"https://www.youtube.com/embed/Iapc-qGTEBQ","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.5620608899297423,"block_preserve_scale":true},"created_time":1666706903247,"last_edited_time":1666706880000,"parent_id":"3acacd6e-23bb-46b2-a8b0-cc56d9a1cc02","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"dd2baae1-8900-4073-854b-bdde392d5b36":{"role":"reader","value":{"id":"dd2baae1-8900-4073-854b-bdde392d5b36","version":68,"type":"page","properties":{"title":[["About"]]},"content":["e34dbc42-98d0-4e1d-ad9e-dc6631aa7273","36cdda23-4789-4ff5-8d18-99142f89bec4","770dde4e-b74e-4848-8b48-8b1ce3c111ea","2ca1f27b-da43-46f8-b8c0-ef3e05e583d9"],"format":{"page_icon":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0dba7a3b-a420-477f-a184-076421f71ce6/external-author-literature-flaticons-lineal-color-flat-icons-2.png"},"permissions":[{"role":"editor","type":"user_permission","user_id":"d1805983-7869-451d-bf8b-64135a5d4ee7"},{"role":"reader","type":"public_permission","added_timestamp":1666532032810}],"created_time":1666531980000,"last_edited_time":1666655220000,"parent_id":"314bb437-f8b5-44ca-a749-b2b1413baa58","parent_table":"block","alive":true,"file_ids":["5349e794-a695-40dd-8bb5-4ea012d8b3f0","0dba7a3b-a420-477f-a184-076421f71ce6"],"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"314bb437-f8b5-44ca-a749-b2b1413baa58":{"role":"reader","value":{"id":"314bb437-f8b5-44ca-a749-b2b1413baa58","version":5,"type":"column","content":["dd2baae1-8900-4073-854b-bdde392d5b36"],"format":{"column_ratio":0.5},"created_time":1666625040000,"last_edited_time":1666625040000,"parent_id":"82aad922-cb77-4452-81bf-56f4e8e5a408","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"82aad922-cb77-4452-81bf-56f4e8e5a408":{"role":"reader","value":{"id":"82aad922-cb77-4452-81bf-56f4e8e5a408","version":5,"type":"column_list","content":["314bb437-f8b5-44ca-a749-b2b1413baa58","c7c8db4e-2a84-4461-9042-c0ccd0c86b7a"],"created_time":1666625040000,"last_edited_time":1666625040000,"parent_id":"72a66971-7cf6-42c2-a252-4439d99d8f44","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"e34dbc42-98d0-4e1d-ad9e-dc6631aa7273":{"role":"reader","value":{"id":"e34dbc42-98d0-4e1d-ad9e-dc6631aa7273","version":385,"type":"text","properties":{"title":[["你好呀！欢迎访问我的博客，我是 yangsoon，一名从事 Paas 开发的程序员，一直想写一些不一样的文章，不过一直在当鸽子…"]]},"created_time":1666624500000,"last_edited_time":1666624920000,"parent_id":"dd2baae1-8900-4073-854b-bdde392d5b36","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}}},"collection":{"ee9153a8-adb1-4abb-b2ef-ca5db61b6298":{"role":"reader","value":{"id":"ee9153a8-adb1-4abb-b2ef-ca5db61b6298","version":15,"name":[["Rust"]],"schema":{"Zr<q":{"name":"Tags","type":"multi_select","options":[{"id":"030cd429-63db-4380-ae5f-b45c00999e44","color":"orange","value":"rust"},{"id":"c119cc2f-84fb-43cd-95bf-c8143c550486","color":"yellow","value":"tokio"}]},"vRhJ":{"name":"Created","type":"created_time"},"zVdc":{"name":"Text","type":"text"},"title":{"name":"Name","type":"title"}},"icon":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/25901ebf-504a-4c49-8fab-5daf0521600d/rust.svg","format":{"copied_from_pointer":{"id":"5490be62-a00f-488b-b0b5-6fcc63b05088","table":"collection","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"},"collection_page_properties":[{"visible":true,"property":"vRhJ"},{"visible":true,"property":"Zr<q"}]},"parent_id":"fec36412-bc7e-4ec3-972d-b67b1ddd20f8","parent_table":"block","alive":true,"file_ids":["25901ebf-504a-4c49-8fab-5daf0521600d"],"copied_from":"5490be62-a00f-488b-b0b5-6fcc63b05088","migrated":true,"space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}}},"collection_view":{"d89a95c7-6d44-4260-a6fa-43507563ce61":{"role":"reader","value":{"id":"d89a95c7-6d44-4260-a6fa-43507563ce61","version":4,"type":"gallery","name":"Blog","format":{"gallery_cover":{"type":"page_cover"},"collection_pointer":{"id":"ee9153a8-adb1-4abb-b2ef-ca5db61b6298","table":"collection","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"},"gallery_properties":[{"visible":true,"property":"title"},{"visible":true,"property":"zVdc"},{"visible":true,"property":"Zr<q"},{"visible":true,"property":"vRhJ"}],"collection_peek_mode":"full_page"},"parent_id":"fec36412-bc7e-4ec3-972d-b67b1ddd20f8","parent_table":"block","alive":true,"page_sort":["3acacd6e-23bb-46b2-a8b0-cc56d9a1cc02","d3ecd552-789f-452c-8753-2f0226325f65","a8bd2ec9-1288-4669-9940-ad46c5539100"],"query2":{"aggregations":[{"aggregator":"count"}]},"space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}}},"notion_user":{},"collection_query":{},"signed_urls":{"3acacd6e-23bb-46b2-a8b0-cc56d9a1cc02":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/d1d9f39b-bb16-4bd1-a43f-abeeb0d6aa44/pexels-pixabay-301614.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221202%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221202T130015Z&X-Amz-Expires=86400&X-Amz-Signature=8024ae817c854d38fad113bda9d095d5909d9f5f985442b38ae78113575f1700&X-Amz-SignedHeaders=host&x-id=GetObject"},"preview_images":{"notion.so/image/s3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd1d9f39b-bb16-4bd1-a43f-abeeb0d6aa44%2Fpexels-pixabay-301614.jpeg":{"originalWidth":2000,"originalHeight":1334,"dataURIBase64":"data:image/webp;base64,UklGRjQAAABXRUJQVlA4ICgAAADQAQCdASoQAAsABUB8JaQAAudez6CAAAD+8cvhnMxhrXloCJAAgEAA"},"s3.us-west-2.amazonaws.com/secure.notion-static.com/8bcdce55-2a0f-4112-8281-ef944827d6dc/Untitled.png":null,"notion.so/image/s3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F25901ebf-504a-4c49-8fab-5daf0521600d%2Frust.svg":{"originalWidth":200,"originalHeight":200,"dataURIBase64":"data:image/webp;base64,UklGRq4AAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSHAAAAARL6CgbRsWl9HbjYjAqJ5wG9lWW8u6j6EA2dzn2PwbXgES70b0P4AhnQJg6GpVgK+ms18YzEEGSmBrbXn8Y1Tjd/2d5oOm0p2R91a7WLG61fe05aNvfUju5B00Z8ndDzYD0Rx+bRrbBQxGqgMw5OwAVlA4IBgAAAAwAQCdASoQABAABUB8JaQAA3AA/vDmwAA="},"notion.so/image/s3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F37907dd5-3c76-4966-a419-daa027a84972%2FIMG_2189.jpg":{"originalWidth":2000,"originalHeight":2003,"dataURIBase64":"data:image/webp;base64,UklGRmoAAABXRUJQVlA4IF4AAADQAQCdASoQABAABUB8JbACdAERATxWoAD+0Vlxx+kOh3kDC0Z3s4OjUZzRpnTiXUiN5qtuCLGbw3Q3meKHmbJDj3X9KoWlb/kas/KasMX31nkEcPwD09TPGVsO8AAA"},"notion.so/image/s3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0dba7a3b-a420-477f-a184-076421f71ce6%2Fexternal-author-literature-flaticons-lineal-color-flat-icons-2.png":{"originalWidth":2000,"originalHeight":2000,"dataURIBase64":"data:image/webp;base64,UklGRgwBAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSGAAAAARL6AgbQMW11J3IiLIXeGqtm1VWU8C+L8A/08DYAGurP5hIERE/yeA3+0soJkbHSD51AvyN6hM+tIvQ7xWfdDFa8qWrFo3BQQdb0DURwsE9VNBVC3YVCvI6gOIagk06z9WUDgghgAAAJACAJ0BKhAAEAAFQHwlsAJ0bX8PHM+2A3mHCuwAAP6hXarNYCY2KwqrvY8iGvMa6audCQRCtiQfjkfHagT2CXq04ZYf9Hwvg3FrJS69z33BCag6X1WhpLOFU896Yvx/Xd9bnVl4h1tNpPLg+3chbfFajbd9/5ZwSqmKkyUQP9VHthLmRgAA"}}},"pageId":"3acacd6e-23bb-46b2-a8b0-cc56d9a1cc02"},"__N_SSG":true}