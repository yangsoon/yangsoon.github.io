<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="robots" content="index,follow"/><meta property="og:type" content="website"/><meta name="google-site-verification" content="_OJuJrMAK0_lxr0--eH6RZyMOn2Mg_zY1hDyBBKU8fI"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-Y4TMBBH2RZ"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-Y4TMBBH2RZ', {
                page_path: window.location.pathname,
              });
          </script><meta property="og:site_name" content="YangSoon"/><meta property="twitter:domain" content="yangsoon.github.io"/><meta name="twitter:creator" content="@yangsoonlx"/><meta name="description" content="YangSoon, Cloud Native Developer"/><meta property="og:description" content="YangSoon, Cloud Native Developer"/><meta name="twitter:description" content="YangSoon, Cloud Native Developer"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://yangsoon.github.io/api/social-image?id=155e33cf-4e92-4bdf-b8f2-4051f2cedc24"/><meta property="og:image" content="https://yangsoon.github.io/api/social-image?id=155e33cf-4e92-4bdf-b8f2-4051f2cedc24"/><link rel="canonical" href="https://yangsoon.github.io/那些年玩-k8s-遇到的坑"/><meta property="og:url" content="https://yangsoon.github.io/那些年玩-k8s-遇到的坑"/><meta property="twitter:url" content="https://yangsoon.github.io/那些年玩-k8s-遇到的坑"/><link rel="alternate" type="application/rss+xml" href="https://yangsoon.github.io/feed" title="YangSoon"/><meta property="og:title" content="那些年玩 K8s 遇到的坑"/><meta name="twitter:title" content="那些年玩 K8s 遇到的坑"/><title>那些年玩 K8s 遇到的坑</title><link rel="preload" as="image" href="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb4189bc1-ff7b-4d9c-9c6c-e6f10c2eab06%2Fpexels-dmitriy-ganin-7772722.jpeg?table=block&amp;id=155e33cf-4e92-4bdf-b8f2-4051f2cedc24&amp;cache=v2"/><meta name="next-head-count" content="25"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="32x32" href="favicon.png"/><link rel="manifest" href="/manifest.json"/><link rel="preload" href="/_next/static/css/836d11bb8e359ad4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/836d11bb8e359ad4.css" data-n-g=""/><link rel="preload" href="/_next/static/css/1d993c1b8c3f1e3a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1d993c1b8c3f1e3a.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/3607272e.d338bf53926ee7c2.js"></script><script defer="" src="/_next/static/chunks/853.526a4df21aef109c.js"></script><script defer="" src="/_next/static/chunks/358.0027340467b29549.js"></script><script src="/_next/static/chunks/webpack-d0f6f9fb604748c4.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-f08b69bdcc7bbb61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e341ab6855f9c9f4.js" defer=""></script><script src="/_next/static/chunks/446-7f8c1bd499453c43.js" defer=""></script><script src="/_next/static/chunks/642-47a19f0a55eb6073.js" defer=""></script><script src="/_next/static/chunks/pages/%5BpageId%5D-69b62fc61f7d7f72.js" defer=""></script><script src="/_next/static/-LOuZR3HdLb_iDPVdL0RX/_buildManifest.js" defer=""></script><script src="/_next/static/-LOuZR3HdLb_iDPVdL0RX/_ssgManifest.js" defer=""></script></head><body><script>
/** Inlined version of noflash.js from use-dark-mode */
;(function () {
  var storageKey = 'darkMode'
  var classNameDark = 'dark-mode'
  var classNameLight = 'light-mode'
  function setClassOnDocumentBody(darkMode) {
    document.body.classList.add(darkMode ? classNameDark : classNameLight)
    document.body.classList.remove(darkMode ? classNameLight : classNameDark)
  }
  var preferDarkQuery = '(prefers-color-scheme: dark)'
  var mql = window.matchMedia(preferDarkQuery)
  var supportsColorSchemeQuery = mql.media === preferDarkQuery
  var localStorageTheme = null
  try {
    localStorageTheme = localStorage.getItem(storageKey)
  } catch (err) {}
  var localStorageExists = localStorageTheme !== null
  if (localStorageExists) {
    localStorageTheme = JSON.parse(localStorageTheme)
  }
  // Determine the source of truth
  if (localStorageExists) {
    // source of truth from localStorage
    setClassOnDocumentBody(localStorageTheme)
  } else if (supportsColorSchemeQuery) {
    // source of truth from system
    setClassOnDocumentBody(mql.matches)
    localStorage.setItem(storageKey, mql.matches)
  } else {
    // source of truth from document.body
    var isDarkMode = document.body.classList.contains(classNameDark)
    localStorage.setItem(storageKey, JSON.stringify(isDarkMode))
  }
})();
</script><div id="__next"><div class="notion notion-app light-mode notion-block-155e33cf4e924bdfb8f24051f2cedc24"><div class="notion-viewport"></div><div class="notion-frame"><header class="notion-header"><div class="notion-nav-header"><div class="breadcrumbs"><a class="breadcrumb" href="/"><div class="notion-page-icon-inline notion-page-icon-image"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272000%27%20height=%272003%27/%3e"/></span><img alt="流心家的羊" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="icon notion-page-icon" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRmoAAABXRUJQVlA4IF4AAADQAQCdASoQABAABUB8JbACdAERATxWoAD+0Vlxx+kOh3kDC0Z3s4OjUZzRpnTiXUiN5qtuCLGbw3Q3meKHmbJDj3X9KoWlb/kas/KasMX31nkEcPwD09TPGVsO8AAA&quot;)"/><noscript><img alt="流心家的羊" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F37907dd5-3c76-4966-a419-daa027a84972%2FIMG_2189.jpg?table=block&amp;id=72a66971-7cf6-42c2-a252-4439d99d8f44&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="icon notion-page-icon" loading="lazy"/></noscript></span></div><span class="title">流心家的羊</span></a></div><div class="notion-nav-header-rhs breadcrumbs"><a href="/about" class="breadcrumb button">About</a><div class="breadcrumb button styles_hidden__7gYve"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M256 48v48m0 320v48m147.08-355.08l-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48m-320 0H48m355.08 147.08l-33.94-33.94M142.86 142.86l-33.94-33.94"></path><circle cx="256" cy="256" r="80" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"></circle></svg></div></div></div></header><div class="notion-page-scroller"><div class="notion-page-cover-wrapper"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272000%27%20height=%272588%27/%3e"/></span><img alt="那些年玩 K8s 遇到的坑" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb4189bc1-ff7b-4d9c-9c6c-e6f10c2eab06%2Fpexels-dmitriy-ganin-7772722.jpeg?table=block&amp;id=155e33cf-4e92-4bdf-b8f2-4051f2cedc24&amp;cache=v2" decoding="async" data-nimg="intrinsic" class="notion-page-cover" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-position:center 47.92999999999999%;background-size:cover;background-position:center 47.92999999999999%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRlIAAABXRUJQVlA4IEYAAADwAQCdASoMABAABUB8JagAAp2XUiJGkgAA/utpbUrgZUYT9E+vVWi6BpPBfw4CuYV6rRyxxcDg2+vR6ptyE/vcreeKAAAA&quot;)"/><noscript><img alt="那些年玩 K8s 遇到的坑" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb4189bc1-ff7b-4d9c-9c6c-e6f10c2eab06%2Fpexels-dmitriy-ganin-7772722.jpeg?table=block&amp;id=155e33cf-4e92-4bdf-b8f2-4051f2cedc24&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-position:center 47.92999999999999%" class="notion-page-cover"/></noscript></span></div><main class="notion-page notion-page-has-cover notion-page-has-icon notion-page-has-image-icon notion-full-page notion-small-text"><div class="notion-page-icon-hero notion-page-icon-image"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27200%27%20height=%27200%27/%3e"/></span><img alt="那些年玩 K8s 遇到的坑" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="notion-page-icon" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRgoBAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSFAAAAARL6CobRs4VET3XouIwDVPsIkkWdU+EPAx55xzFvBg/Yt5oCGi/xOA3EvH7BkpSBEspA4MOQee/AF0JKmAK2gBF5woGBVLTJvY7GNM/EUZFVZQOCCUAAAAkAIAnQEqEAAQAAVAfCWwAnQ4gDeKyIQGFVO7AQAA+NVSVI1aKdsysOHNmQb6/xMqL+haAqsvx9hoe7dRluauen6dQeTPM4NsWp5SASklUnKTzHVER6vUZBemaZYN9Pph4LGj4QLtfsDsBigaROs9reiTlo//5UgdwPRq/+kyWwwdH/uq27DkOnF7TxaxXBNM5AAAAA==&quot;)"/><noscript><img alt="那些年玩 K8s 遇到的坑" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbbf50f02-aaea-436a-9dfe-f57a580d5daf%2F%25E5%25BD%2593%25E5%25BF%2583%25E5%259D%2591%25E6%25B4%259E.svg?table=block&amp;id=155e33cf-4e92-4bdf-b8f2-4051f2cedc24&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="notion-page-icon" loading="lazy"/></noscript></span></div><h1 class="notion-title">那些年玩 K8s 遇到的坑</h1><div class="notion-collection-page-properties"><div class="notion-collection-row"><div class="notion-collection-row-body"><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M6.986 14c-1.79 0-3.582-.69-4.944-2.068-2.723-2.72-2.723-7.172 0-9.892 2.725-2.72 7.182-2.72 9.906 0A6.972 6.972 0 0114 6.996c0 1.88-.728 3.633-2.052 4.955A7.058 7.058 0 016.986 14zm3.285-6.99v1.645H5.526v-5.47h1.841v3.63h2.904v.194zm1.89-.014c0-1.379-.542-2.67-1.522-3.648-2.006-2.005-5.287-2.007-7.297-.009l-.009.009a5.168 5.168 0 000 7.295c2.01 2.007 5.297 2.007 7.306 0a5.119 5.119 0 001.521-3.647z"></path></svg><div class="notion-collection-column-title-body">Created</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-created_time">Oct 24, 2022 11:54 PM</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">Text</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z"></path></svg><div class="notion-collection-column-title-body">Tags</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-multi_select"><div class="notion-property-multi_select-item notion-item-red">k8s</div></span></div></div></div></div></div><div class="notion-page-content notion-page-content-has-aside"><article class="notion-page-content-inner"><ol start="1" class="notion-list notion-list-numbered notion-block-948aa3bd23ca4e4bb39d9726213a20d5"><li>其他语言通过websoket直连apiserver实现exec功能的时，执行命令需要做编码操作，有时候通过kubectl执行exec可以实现预期功能，但通过curl执行会出现问题，一般是因为指令编码出现问题，这时候可以开启kubectl的debug功能查看kubectl调用apiserver的具体url路径是什么,如下加上-v 10参数，让kubectl打印出更多的调试日志</li></ol><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-c">k exec nginx-deployment-75b69bd684-nh6zm  nginx -it -v 10 -- /bin/sh -i -c &quot;bash  || clear; /bin/sh&quot;</code></pre><ol start="1" class="notion-list notion-list-numbered notion-block-292330d902b447f283e4af62687d48af"><li>如果遇到pod对应的镜像地址不存在的情况怎么办，从node节点上捞出来镜像 ctr 命令 export，</li></ol><div class="notion-text notion-block-228a9a76c18342f59b17c5e37914b491">然后导入本地上传到公共镜像地址，重启拉取</div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-e84b759839a84102b0d076f2bc1eb41d" href="https://github.com/kubesphere/console/blob/master/src/components/Terminal/terminal.jsx#L216"><div><div class="notion-bookmark-title">console/terminal.jsx at master · kubesphere/console</div><div class="notion-bookmark-description">This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters You can&#x27;t perform that action at this time. You signed in with another tab or window.</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-icon"><img src="https://www.notion.so/image/https%3A%2F%2Fgithub.com%2Ffavicon.ico?table=block&amp;id=e84b7598-39a8-4102-b0d0-76f2bc1eb41d&amp;cache=v2" alt="console/terminal.jsx at master · kubesphere/console" loading="lazy" decoding="async"/></div><div class="notion-bookmark-link-text">https://github.com/kubesphere/console/blob/master/src/components/Terminal/terminal.jsx#L216</div></div></div><div class="notion-bookmark-image"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272000%27%20height=%271000%27/%3e"/></span><img alt="console/terminal.jsx at master · kubesphere/console" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRjQAAABXRUJQVlA4ICgAAACwAQCdASoQAAgABUB8JYwAAt1VbDoAAP7rJdDbxhT3hhQPjCnny8AA&quot;)"/><noscript><img alt="console/terminal.jsx at master · kubesphere/console" src="https://www.notion.so/image/https%3A%2F%2Fopengraph.githubassets.com%2F3ef884151919bebf9198b841b7c4e2348f284a8cb539de5e1c0cf6ffea2c62b5%2Fkubesphere%2Fconsole?table=block&amp;id=e84b7598-39a8-4102-b0d0-76f2bc1eb41d&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div></a></div><ol start="1" class="notion-list notion-list-numbered notion-block-05a88b83558b4755ba09aa04906a1342"><li>Terraform 资源最好加上count</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-21b829699b6543a7adb614e77a047640"><li>patch的时候 / 转义为 ~1</li></ol><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-go">kubectl patch cloneset/demo --type=json --patch [{&quot;op&quot;:&quot;replace&quot;,&quot;path&quot;:&quot;/spec/template/metadata/annotations/alibabacloud.com~1skip-select-pool&quot;,&quot;value&quot;:&quot;true&quot;},</code></pre><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-457500c89a754259a338bee3f6fbfc53" href="https://erkanerol.github.io/post/how-kubectl-exec-works/"><div><div class="notion-bookmark-title">How does &#x27;kubectl exec&#x27; work?</div><div class="notion-bookmark-description">Last Friday, one of my colleagues approached me and asked a question about how to exec a command in a pod with client-go. I didn&#x27;t know the answer and I noticed that I had never thought about the mechanism in &quot;kubectl exec&quot;. I had some ideas about how it should be, but I wasn&#x27;t 100% sure.</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-icon"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2732%27%20height=%2732%27/%3e"/></span><img alt="How does &#x27;kubectl exec&#x27; work?" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRqoAAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSFsAAAARL6CobRs4WjpVX8c2BIuIwL1osIkkWdU+yvHnZAAv/xLYv5j7+zRE9F9t2zaMPDk9b6ChuE5Geb5PABxi4uOBxwK9IMqvyvSdctk5KKdj2HAJDeL76Z/GfywAAFZQOCAoAAAAkAEAnQEqEAAQAAqAfCWoAnS6AAOYAP7SbdwPT+1Niqn1L8ikWLwAAA==&quot;)"/><noscript><img alt="How does &#x27;kubectl exec&#x27; work?" src="https://www.notion.so/image/https%3A%2F%2Ferkanerol.github.io%2Ffavicon.ico?table=block&amp;id=457500c8-9a75-4259-a338-bee3f6fbfc53&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div><div class="notion-bookmark-link-text">https://erkanerol.github.io/post/how-kubectl-exec-works/</div></div></div><div class="notion-bookmark-image"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272000%27%20height=%27534%27/%3e"/></span><img alt="How does &#x27;kubectl exec&#x27; work?" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRkYAAABXRUJQVlA4IDoAAAAwAgCdASoQAAQABUB8JagCdG1/igAFJrKqtAD8ifOg3YT87XuzToTba2mCJ2vUwKQl6LrwV8KwGAAA&quot;)"/><noscript><img alt="How does &#x27;kubectl exec&#x27; work?" src="https://www.notion.so/image/https%3A%2F%2Ferkanerol.github.io%2Fimg%2Fkubectl-exec%2Fcomponents.png?table=block&amp;id=457500c8-9a75-4259-a338-bee3f6fbfc53&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div></a></div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-6fdd6e3974284ca8a0ee05c08db8c9f7" href="https://chenhm.com/post/2014-10-12-spdy"><div><div class="notion-bookmark-title">SPDY简介</div><div class="notion-bookmark-description">SPDY（读作speedy）是Goolge设计的一个对HTTP的增强协议，主要解决HTTP协议的传输效率和延迟问题。 在了解SPDY之前，我们先看看HTTP协议自身的一些局限性。 首先HTTP协议是建立在TCP协议之上的，而TCP协议有几个特点是不利于传输和降低延迟的。 三步握手（three-way handshake） TCP使用三步握手以建立可靠连接，虽然在第三次握手的时候即可携带有效报文数据，但仍然需要浪费一次RTT时间。 对于长距离传输，RTT时间基本是受限于物理规则的。我们可以简单计算一下，假设一个用户从新加坡向美国加州旧金山的网站发起连接，显然这是一次利用海底光缆的跨洋传输。在http://www.cablemap.info 我们可以查到全球海底光缆的布局情况，从新加坡到加州并非一条直线，光缆从新加坡到加州需要经过香港、菲律宾、关岛、夏威夷等节点，总距离超过1万6千公里。我们很容易查到海底光缆的折射率大概在1.47，这表明光纤中光速大概是30/1.47约每秒20万公里。仅考虑光速，一个RTT时间也是 1.6/30 x 1.47 x 2 约156ms，实际上这段距离的RTT大概在180ms，可以优化的空间非常少了。 慢启动（slow start）和拥塞控制算法（congestion avoidance algorithm） TCP的慢启动和拥塞控制机制都是基于滑动窗口实现的避免网络过载的方法，简单来说，由于初始网络状况未知，TCP一开始使用较小的速率发送，然后以2的指数倍增加速率，直到出现丢包（也就是出现拥塞），接着迅速降低速率（减半，回到上一个指数值），再以线性方式增加速率（其实是更平缓的指数），最终获得最合适的传输速率。而这个协商过程需要经历多次RTT时间。 从上面2点我们很容易发现，要想充分利用TCP，需要尽量重用连接，避免建立新连接。于是HTTP/1.1中引入了 Connection: Keep-Alive属性，自此我们可以在一个TCP连接上传输多个资源。但HTTP仍然是个 半双工协议，一次请求然后等待一次应答，仍然有大量的时间浪费在等待上。（ HTTP/1.1的Pipelining虽然可以实现管线化传输，但由于诸多问题，Chrome早期版本默认并不启用，而新版已将此功能移除） 而且由于HTTP是 无状态文本协议 ，每次请求都需要设置大量的Header字段，在传输性能上也不够好。 基于以上因素，Google设计开发了SPDY协议，我们来看看这个协议的设计。 SPDY是工作在SSL之上的会话层协议，在单一TCP通道内提供多个会话流，从而实现了对TCP的多路复用。我们可以将SPDY理解为TCP链路上的一系列虚拟隧道和跑在这些隧道中的HTTP数据。 SPDY的主要特性如下： 基本特性： 多路复用，一个TCP通道内有多个独立的数据流 请求优先级，不同的流有不同的优先级，使重要资源优先传输 HTTP Header压缩 高级特性： 服务端推送，主动向浏览器推送资源 服务端建议，在浏览器连接后建议浏览器接下来获取哪些资源 SPDY的概念主要有会话、流、帧。 会话(session)：等同于连接（connection） 流(stream)：在会话中的双向虚拟通道，通过Stream-ID来区分 帧(frames)：在流中传输的最小单元，分为控制帧和数据帧两种 所有的SPDY帧都有8字节的首部，通过第一个bit区分是控制帧还是数据帧 控制帧 +----------------------------------+ |C| Version(15bits) | Type(16bits) | +----------------------------------+ | Flags (8) | Length (24 bits) | +----------------------------------+ | Data | +----------------------------------+ 数据帧 +----------------------------------+ |C| Stream-ID (31bits) | +----------------------------------+ | Flags (8) | Length (24 bits) | +----------------------------------+ | Data | +----------------------------------+ C是控制标识位，1为控制帧，0为数据帧。 Version是SPDY的版本，版本3.1也使用3.</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-icon"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272000%27%20height=%272000%27/%3e"/></span><img alt="SPDY简介" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRq4AAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSF0AAAARL6CobSM2Vyal0N+4EREBvnVgGkmyqnkQwPvk8fxHz57zD4ZDiOj/BPBjpfGBYhZaYNPjzcSGgBMGZp84onHnoeIIn3YxcQRKOuuEwkpn2f1NX4ozJ+8sOMApPgMAVlA4ICoAAABwAQCdASoQABAABUB8JbACdAFAAAD+6zb+vVLblo3/yU/+8r/XdswAAAA=&quot;)"/><noscript><img alt="SPDY简介" src="https://www.notion.so/image/https%3A%2F%2Fchenhm.com%2Fstatic%2Ficon.png?table=block&amp;id=6fdd6e39-7428-4ca8-a0ee-05c08db8c9f7&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div><div class="notion-bookmark-link-text">https://chenhm.com/post/2014-10-12-spdy</div></div></div><div class="notion-bookmark-image"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272000%27%20height=%27872%27/%3e"/></span><img alt="SPDY简介" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRjYAAABXRUJQVlA4ICoAAADQAQCdASoQAAcABUB8JZQCw7ELS3LbwAD+525ne1lNT3qjiPForF5dAAA=&quot;)"/><noscript><img alt="SPDY简介" src="https://www.notion.so/image/https%3A%2F%2Fchenhm.com%2Fpost%2Fimages%2Fcongestion_avoidance.png?table=block&amp;id=6fdd6e39-7428-4ca8-a0ee-05c08db8c9f7&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div></a></div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-785be501a36947869c048b1d19fa0f91" href="https://www.kubernetes.org.cn/7195.html"><div><div class="notion-bookmark-title">图解kubernetes命令执行核心实现_Kubernetes中文社区</div><div class="notion-bookmark-description">K8s中的命令执行由apiserver、kubelet、cri、docker等组件共同完成, 其中最复杂的就是协议切换以及各种流拷贝相关,让我们一起来看下关键实现,虽然代码比较多，但是不会开发应该也能看懂，祝你好运</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-icon"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272000%27%20height=%272000%27/%3e"/></span><img alt="图解kubernetes命令执行核心实现_Kubernetes中文社区" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRvoAAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSFoAAAARL6CobSM2VTp9rxsREVD4BqM2khzVJgKnA7DhAOR/JnCa4Q9mFkRE/ycAyJ5uDmbI8vkCl6h+E5yqqhF+c4CYj6rduvYaYj74zQGnSXCZEeosGhaAOdDNHgBWUDggegAAAFACAJ0BKhAAEAAFQHwlsAJ0Bi1UzVHaA/yzIAD9cFJKjg5xsRzvCVpR01je0Z1cjJF/FFGzX9KHMSuU0FZFMZ6OY5gK2b5oaN3BY5mAe9duMRZogZGmlRFk8ezqOFoUxjy0TtoZjrb7gls+AMtpD1+8sOZGE0kdgAAA&quot;)"/><noscript><img alt="图解kubernetes命令执行核心实现_Kubernetes中文社区" src="https://www.notion.so/image/https%3A%2F%2Fwww.kubernetes.org.cn%2Fimg%2F2018%2F07%2Fcropped-con999-192x192.png?table=block&amp;id=785be501-a369-4786-9c04-8b1d19fa0f91&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div><div class="notion-bookmark-link-text">https://www.kubernetes.org.cn/7195.html</div></div></div></a></div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-fe876689e96b484daefc7cdd97b93d86" href="https://www.yuque.com/baxiaoshi/tyado3"><div><div class="notion-bookmark-title">云原生学习笔记 · 语雀</div><div class="notion-bookmark-description">欢迎加: baxiaoshi2020, 关注:云原生技术应用</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-icon"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272000%27%20height=%272000%27/%3e"/></span><img alt="云原生学习笔记 · 语雀" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRrQAAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSE4AAAARL6AQAAI0F0kAAZxBERHwqYFRG0mOShoId/vfY5AhDIANzR/MpoMQ0f8JgKP6BkRJMiiNE9W11Au599Xej3VQep564ewZtXE4GwMuaQdWUDggQAAAAPABAJ0BKhAAEAAFQHwlsAJ0AQ+GxU4YIAD+7UlpP0mYpo2Cz0UBcWijjjiGS9DrRWf/ARJw9nQB1ZDxXV4P4AA=&quot;)"/><noscript><img alt="云原生学习笔记 · 语雀" src="https://www.notion.so/image/https%3A%2F%2Fmdn.alipayobjects.com%2Fhuamei_0prmtq%2Fafts%2Fimg%2FA*vMxOQIh4KBMAAAAAAAAAAAAADvuFAQ%2Foriginal?table=block&amp;id=fe876689-e96b-484d-aefc-7cdd97b93d86&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div><div class="notion-bookmark-link-text">https://www.yuque.com/baxiaoshi/tyado3</div></div></div><div class="notion-bookmark-image"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272000%27%20height=%27994%27/%3e"/></span><img alt="云原生学习笔记 · 语雀" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,UklGRk4AAABXRUJQVlA4IEIAAADwAQCdASoQAAgABUB8JZACsAERAsNTzgAA/u/RUv7JizICDfSjGAjE/H+L/K9hdNe+B6PGUxqbJxUa/yV/DJIAAAA=&quot;)"/><noscript><img alt="云原生学习笔记 · 语雀" src="https://www.notion.so/image/https%3A%2F%2Fgw.alipayobjects.com%2Fmdn%2Fprod_resource%2Fafts%2Fimg%2FA*VhqdRpl6nbgAAAAAAAAAAAAAARQnAQ?table=block&amp;id=fe876689-e96b-484d-aefc-7cdd97b93d86&amp;cache=v2" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div></a></div><div class="notion-blank notion-block-d952d74a6d834b74abd6302a702d5ddb"> </div></article><aside class="notion-aside"></aside></div><div class="styles_comments__YEupF"><div><p>Loading Comments...</p></div></div></main><footer class="styles_footer__RBpyk"><div class="styles_copyright__nhL_k">Copyright 2022 <!-- -->yangsoon</div><div class="styles_settings__GyEhi"></div><div class="styles_social__ptL3p"><a class="styles_github__0JN7a" href="https://yangsoon.github.io" title="YangSoon @yangsoon.github.io" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 3.293l6 6V13.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 012 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.293 1.5a1 1 0 011.414 0l6.647 6.646a.5.5 0 01-.708.708L8 2.207 1.354 8.854a.5.5 0 11-.708-.708L7.293 1.5z" clip-rule="evenodd"></path></svg></a><a class="styles_github__0JN7a" href="https://github.com/yangsoon" title="GitHub @yangsoon" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a class="styles_zhihu__Z7IC7" href="https://zhihu.com/people/yangsoon" title="Zhihu @yangsoon" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13H170.54zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82v170.31zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.87-40.67h61.65s-.09-23.62-7.59-23.62v.01zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2l19.23 14.43zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.93-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78l.03-.01z"></path></svg></a><a class="styles_twitter__3YoqL" href="https://twitter.com/yangsoonlx" title="Twitter @yangsoonlx" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></div></footer></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"site":{"domain":"yangsoon.github.io","name":"YangSoon","rootNotionPageId":"72a669717cf642c2a2524439d99d8f44","rootNotionSpaceId":null,"description":"YangSoon, Cloud Native Developer"},"recordMap":{"block":{"155e33cf-4e92-4bdf-b8f2-4051f2cedc24":{"role":"reader","value":{"id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","version":72,"type":"page","properties":{"jyA\\":[["k8s"]],"title":[["那些年玩 K8s 遇到的坑"]]},"content":["948aa3bd-23ca-4e4b-b39d-9726213a20d5","8f9f3ea9-8808-4d42-86cf-9961b40395cf","292330d9-02b4-47f2-83e4-af62687d48af","228a9a76-c183-42f5-9b17-c5e37914b491","e84b7598-39a8-4102-b0d0-76f2bc1eb41d","05a88b83-558b-4755-ba09-aa04906a1342","21b82969-9b65-43a7-adb6-14e77a047640","c372437e-36e7-4b49-9b63-5b8f12837b6e","457500c8-9a75-4259-a338-bee3f6fbfc53","6fdd6e39-7428-4ca8-a0ee-05c08db8c9f7","785be501-a369-4786-9c04-8b1d19fa0f91","fe876689-e96b-484d-aefc-7cdd97b93d86","d952d74a-6d83-4b74-abd6-302a702d5ddb"],"format":{"page_icon":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bbf50f02-aaea-436a-9dfe-f57a580d5daf/%E5%BD%93%E5%BF%83%E5%9D%91%E6%B4%9E.svg","page_cover":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b4189bc1-ff7b-4d9c-9c6c-e6f10c2eab06/pexels-dmitriy-ganin-7772722.jpeg","page_small_text":true,"page_cover_position":0.5207},"created_time":1666626853114,"last_edited_time":1673597586490,"parent_id":"727d5234-96c8-4e4f-a0c9-26e8fe752701","parent_table":"collection","alive":true,"file_ids":["bbf50f02-aaea-436a-9dfe-f57a580d5daf","b4189bc1-ff7b-4d9c-9c6c-e6f10c2eab06"],"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"23b11c7c-8146-4639-912c-14406e078331":{"role":"reader","value":{"id":"23b11c7c-8146-4639-912c-14406e078331","version":28,"type":"collection_view","view_ids":["62cc0356-bb5a-4889-942f-d5babcfa9fbf"],"collection_id":"727d5234-96c8-4e4f-a0c9-26e8fe752701","format":{"collection_pointer":{"id":"727d5234-96c8-4e4f-a0c9-26e8fe752701","table":"collection","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"created_time":1666626853113,"last_edited_time":1674027774854,"parent_id":"72a66971-7cf6-42c2-a252-4439d99d8f44","parent_table":"block","alive":true,"file_ids":["41a889c2-641a-497c-8dec-24d1d7365df5"],"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"72a66971-7cf6-42c2-a252-4439d99d8f44":{"role":"reader","value":{"id":"72a66971-7cf6-42c2-a252-4439d99d8f44","version":611,"type":"page","properties":{"title":[["流心家的羊"]]},"content":["393dcf2e-3358-490d-a8e7-ef0eb89e8dcb","23b11c7c-8146-4639-912c-14406e078331","416b3867-4b4b-4ac0-bc8e-196792a57c07","fec36412-bc7e-4ec3-972d-b67b1ddd20f8","8b4d1555-cb50-45a3-a875-87242a4548bb","4176c3f0-95d8-4ac1-9df1-7f705120857b","1118fa3e-20b3-488c-976d-3346081fde80","e7596c25-bafa-4ece-94b6-e7973c7a2ab3","20cd31e6-ea32-4c1b-b7ef-c70749c2f4cb","ab7c7afa-73c5-4b21-9759-89a9dee4d7e8","82aad922-cb77-4452-81bf-56f4e8e5a408"],"format":{"page_icon":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/37907dd5-3c76-4966-a419-daa027a84972/IMG_2189.jpg","page_full_width":false,"page_small_text":false,"copied_from_pointer":{"id":"bd32b787-e471-49f3-8941-174a9c6846b6","table":"block","spaceId":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"permissions":[{"role":"editor","type":"user_permission","user_id":"d1805983-7869-451d-bf8b-64135a5d4ee7"},{"role":"reader","type":"public_permission","added_timestamp":1660963691744,"allow_duplicate":false}],"created_time":1660961589760,"last_edited_time":1669944180000,"parent_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6","parent_table":"space","alive":true,"copied_from":"bd32b787-e471-49f3-8941-174a9c6846b6","file_ids":["63e89fe9-f5cd-4414-be0e-53d91aa54fc3","37907dd5-3c76-4966-a419-daa027a84972"],"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"948aa3bd-23ca-4e4b-b39d-9726213a20d5":{"role":"reader","value":{"id":"948aa3bd-23ca-4e4b-b39d-9726213a20d5","version":3,"type":"numbered_list","properties":{"title":[["其他语言通过websoket直连apiserver实现exec功能的时，执行命令需要做编码操作，有时候通过kubectl执行exec可以实现预期功能，但通过curl执行会出现问题，一般是因为指令编码出现问题，这时候可以开启kubectl的debug功能查看kubectl调用apiserver的具体url路径是什么,如下加上-v 10参数，让kubectl打印出更多的调试日志"]]},"format":{"copied_from_pointer":{"id":"9a28cdb9-11e2-4804-8c56-2d82ebd5c36c","table":"block","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"created_time":1666627169127,"last_edited_time":1666627140000,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"copied_from":"9a28cdb9-11e2-4804-8c56-2d82ebd5c36c","created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"8f9f3ea9-8808-4d42-86cf-9961b40395cf":{"role":"reader","value":{"id":"8f9f3ea9-8808-4d42-86cf-9961b40395cf","version":3,"type":"code","properties":{"title":[["k exec nginx-deployment-75b69bd684-nh6zm  nginx -it -v 10 -- /bin/sh -i -c \"bash  || clear; /bin/sh\""]],"language":[["C"]]},"format":{"copied_from_pointer":{"id":"a9a68f51-e9ea-49f6-ba1b-02f481e6c48f","table":"block","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"created_time":1666627169128,"last_edited_time":1666627140000,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"copied_from":"a9a68f51-e9ea-49f6-ba1b-02f481e6c48f","created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"292330d9-02b4-47f2-83e4-af62687d48af":{"role":"reader","value":{"id":"292330d9-02b4-47f2-83e4-af62687d48af","version":3,"type":"numbered_list","properties":{"title":[["如果遇到pod对应的镜像地址不存在的情况怎么办，从node节点上捞出来镜像 ctr 命令 export，"]]},"format":{"list_start_index":2,"copied_from_pointer":{"id":"12394775-53a2-41cc-b9b0-00395a122057","table":"block","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"created_time":1666627169128,"last_edited_time":1666627140000,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"copied_from":"12394775-53a2-41cc-b9b0-00395a122057","created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"228a9a76-c183-42f5-9b17-c5e37914b491":{"role":"reader","value":{"id":"228a9a76-c183-42f5-9b17-c5e37914b491","version":3,"type":"text","properties":{"title":[["然后导入本地上传到公共镜像地址，重启拉取"]]},"format":{"copied_from_pointer":{"id":"896d433c-f09b-49a6-9b30-6639d99a5b81","table":"block","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"created_time":1666627169130,"last_edited_time":1666627140000,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"copied_from":"896d433c-f09b-49a6-9b30-6639d99a5b81","created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"e84b7598-39a8-4102-b0d0-76f2bc1eb41d":{"role":"reader","value":{"id":"e84b7598-39a8-4102-b0d0-76f2bc1eb41d","version":8,"type":"bookmark","properties":{"link":[["https://github.com/kubesphere/console/blob/master/src/components/Terminal/terminal.jsx#L216"]],"title":[["console/terminal.jsx at master · kubesphere/console"]],"description":[["This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters You can't perform that action at this time. You signed in with another tab or window."]]},"format":{"bookmark_icon":"https://github.com/favicon.ico","bookmark_cover":"https://opengraph.githubassets.com/3ef884151919bebf9198b841b7c4e2348f284a8cb539de5e1c0cf6ffea2c62b5/kubesphere/console"},"created_time":1668849480000,"last_edited_time":1668849480000,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"05a88b83-558b-4755-ba09-aa04906a1342":{"role":"reader","value":{"id":"05a88b83-558b-4755-ba09-aa04906a1342","version":60,"type":"numbered_list","properties":{"title":[["Terraform 资源最好加上count"]]},"format":{"list_start_index":3},"created_time":1671433020000,"last_edited_time":1671433020000,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"21b82969-9b65-43a7-adb6-14e77a047640":{"role":"reader","value":{"id":"21b82969-9b65-43a7-adb6-14e77a047640","version":53,"type":"numbered_list","properties":{"title":[["patch的时候 / 转义为 ~1"]]},"created_time":1672369020000,"last_edited_time":1672369020000,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"c372437e-36e7-4b49-9b63-5b8f12837b6e":{"role":"reader","value":{"id":"c372437e-36e7-4b49-9b63-5b8f12837b6e","version":6,"type":"code","properties":{"title":[["kubectl patch cloneset/demo --type=json --patch [{\"op\":\"replace\",\"path\":\"/spec/template/metadata/annotations/alibabacloud.com~1skip-select-pool\",\"value\":\"true\"},"]],"language":[["Go"]]},"created_time":1672368812681,"last_edited_time":1672368780000,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"457500c8-9a75-4259-a338-bee3f6fbfc53":{"role":"reader","value":{"id":"457500c8-9a75-4259-a338-bee3f6fbfc53","version":9,"type":"bookmark","properties":{"link":[["https://erkanerol.github.io/post/how-kubectl-exec-works/"]],"title":[["How does 'kubectl exec' work?"]],"description":[["Last Friday, one of my colleagues approached me and asked a question about how to exec a command in a pod with client-go. I didn't know the answer and I noticed that I had never thought about the mechanism in \"kubectl exec\". I had some ideas about how it should be, but I wasn't 100% sure."]]},"format":{"bookmark_icon":"https://erkanerol.github.io/favicon.ico","bookmark_cover":"https://erkanerol.github.io/img/kubectl-exec/components.png"},"created_time":1673573062007,"last_edited_time":1673573062029,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"6fdd6e39-7428-4ca8-a0ee-05c08db8c9f7":{"role":"reader","value":{"id":"6fdd6e39-7428-4ca8-a0ee-05c08db8c9f7","version":9,"type":"bookmark","properties":{"link":[["https://chenhm.com/post/2014-10-12-spdy"]],"title":[["SPDY简介"]],"description":[["SPDY（读作speedy）是Goolge设计的一个对HTTP的增强协议，主要解决HTTP协议的传输效率和延迟问题。 在了解SPDY之前，我们先看看HTTP协议自身的一些局限性。 首先HTTP协议是建立在TCP协议之上的，而TCP协议有几个特点是不利于传输和降低延迟的。 三步握手（three-way handshake） TCP使用三步握手以建立可靠连接，虽然在第三次握手的时候即可携带有效报文数据，但仍然需要浪费一次RTT时间。 对于长距离传输，RTT时间基本是受限于物理规则的。我们可以简单计算一下，假设一个用户从新加坡向美国加州旧金山的网站发起连接，显然这是一次利用海底光缆的跨洋传输。在http://www.cablemap.info 我们可以查到全球海底光缆的布局情况，从新加坡到加州并非一条直线，光缆从新加坡到加州需要经过香港、菲律宾、关岛、夏威夷等节点，总距离超过1万6千公里。我们很容易查到海底光缆的折射率大概在1.47，这表明光纤中光速大概是30/1.47约每秒20万公里。仅考虑光速，一个RTT时间也是 1.6/30 x 1.47 x 2 约156ms，实际上这段距离的RTT大概在180ms，可以优化的空间非常少了。 慢启动（slow start）和拥塞控制算法（congestion avoidance algorithm） TCP的慢启动和拥塞控制机制都是基于滑动窗口实现的避免网络过载的方法，简单来说，由于初始网络状况未知，TCP一开始使用较小的速率发送，然后以2的指数倍增加速率，直到出现丢包（也就是出现拥塞），接着迅速降低速率（减半，回到上一个指数值），再以线性方式增加速率（其实是更平缓的指数），最终获得最合适的传输速率。而这个协商过程需要经历多次RTT时间。 从上面2点我们很容易发现，要想充分利用TCP，需要尽量重用连接，避免建立新连接。于是HTTP/1.1中引入了 Connection: Keep-Alive属性，自此我们可以在一个TCP连接上传输多个资源。但HTTP仍然是个 半双工协议，一次请求然后等待一次应答，仍然有大量的时间浪费在等待上。（ HTTP/1.1的Pipelining虽然可以实现管线化传输，但由于诸多问题，Chrome早期版本默认并不启用，而新版已将此功能移除） 而且由于HTTP是 无状态文本协议 ，每次请求都需要设置大量的Header字段，在传输性能上也不够好。 基于以上因素，Google设计开发了SPDY协议，我们来看看这个协议的设计。 SPDY是工作在SSL之上的会话层协议，在单一TCP通道内提供多个会话流，从而实现了对TCP的多路复用。我们可以将SPDY理解为TCP链路上的一系列虚拟隧道和跑在这些隧道中的HTTP数据。 SPDY的主要特性如下： 基本特性： 多路复用，一个TCP通道内有多个独立的数据流 请求优先级，不同的流有不同的优先级，使重要资源优先传输 HTTP Header压缩 高级特性： 服务端推送，主动向浏览器推送资源 服务端建议，在浏览器连接后建议浏览器接下来获取哪些资源 SPDY的概念主要有会话、流、帧。 会话(session)：等同于连接（connection） 流(stream)：在会话中的双向虚拟通道，通过Stream-ID来区分 帧(frames)：在流中传输的最小单元，分为控制帧和数据帧两种 所有的SPDY帧都有8字节的首部，通过第一个bit区分是控制帧还是数据帧 控制帧 +----------------------------------+ |C| Version(15bits) | Type(16bits) | +----------------------------------+ | Flags (8) | Length (24 bits) | +----------------------------------+ | Data | +----------------------------------+ 数据帧 +----------------------------------+ |C| Stream-ID (31bits) | +----------------------------------+ | Flags (8) | Length (24 bits) | +----------------------------------+ | Data | +----------------------------------+ C是控制标识位，1为控制帧，0为数据帧。 Version是SPDY的版本，版本3.1也使用3."]]},"format":{"bookmark_icon":"https://chenhm.com/static/icon.png","bookmark_cover":"https://chenhm.com/post/images/congestion_avoidance.png"},"created_time":1673595282150,"last_edited_time":1673595282169,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"785be501-a369-4786-9c04-8b1d19fa0f91":{"role":"reader","value":{"id":"785be501-a369-4786-9c04-8b1d19fa0f91","version":9,"type":"bookmark","properties":{"link":[["https://www.kubernetes.org.cn/7195.html"]],"title":[["图解kubernetes命令执行核心实现_Kubernetes中文社区"]],"description":[["K8s中的命令执行由apiserver、kubelet、cri、docker等组件共同完成, 其中最复杂的就是协议切换以及各种流拷贝相关,让我们一起来看下关键实现,虽然代码比较多，但是不会开发应该也能看懂，祝你好运"]]},"format":{"bookmark_icon":"https://www.kubernetes.org.cn/img/2018/07/cropped-con999-192x192.png"},"created_time":1673597176286,"last_edited_time":1673597176301,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"fe876689-e96b-484d-aefc-7cdd97b93d86":{"role":"reader","value":{"id":"fe876689-e96b-484d-aefc-7cdd97b93d86","version":9,"type":"bookmark","properties":{"link":[["https://www.yuque.com/baxiaoshi/tyado3"]],"title":[["云原生学习笔记 · 语雀"]],"description":[["欢迎加: baxiaoshi2020, 关注:云原生技术应用"]]},"format":{"bookmark_icon":"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*vMxOQIh4KBMAAAAAAAAAAAAADvuFAQ/original","bookmark_cover":"https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*VhqdRpl6nbgAAAAAAAAAAAAAARQnAQ"},"created_time":1673597588583,"last_edited_time":1673597588604,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"d952d74a-6d83-4b74-abd6-302a702d5ddb":{"role":"reader","value":{"id":"d952d74a-6d83-4b74-abd6-302a702d5ddb","version":3,"type":"text","created_time":1673597589519,"last_edited_time":1673597589519,"parent_id":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"dd2baae1-8900-4073-854b-bdde392d5b36":{"role":"reader","value":{"id":"dd2baae1-8900-4073-854b-bdde392d5b36","version":68,"type":"page","properties":{"title":[["About"]]},"content":["e34dbc42-98d0-4e1d-ad9e-dc6631aa7273","36cdda23-4789-4ff5-8d18-99142f89bec4","770dde4e-b74e-4848-8b48-8b1ce3c111ea","2ca1f27b-da43-46f8-b8c0-ef3e05e583d9"],"format":{"page_icon":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0dba7a3b-a420-477f-a184-076421f71ce6/external-author-literature-flaticons-lineal-color-flat-icons-2.png"},"permissions":[{"role":"editor","type":"user_permission","user_id":"d1805983-7869-451d-bf8b-64135a5d4ee7"},{"role":"reader","type":"public_permission","added_timestamp":1666532032810}],"created_time":1666531980000,"last_edited_time":1666655220000,"parent_id":"314bb437-f8b5-44ca-a749-b2b1413baa58","parent_table":"block","alive":true,"file_ids":["5349e794-a695-40dd-8bb5-4ea012d8b3f0","0dba7a3b-a420-477f-a184-076421f71ce6"],"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"314bb437-f8b5-44ca-a749-b2b1413baa58":{"role":"reader","value":{"id":"314bb437-f8b5-44ca-a749-b2b1413baa58","version":5,"type":"column","content":["dd2baae1-8900-4073-854b-bdde392d5b36"],"format":{"column_ratio":0.5},"created_time":1666625040000,"last_edited_time":1666625040000,"parent_id":"82aad922-cb77-4452-81bf-56f4e8e5a408","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"82aad922-cb77-4452-81bf-56f4e8e5a408":{"role":"reader","value":{"id":"82aad922-cb77-4452-81bf-56f4e8e5a408","version":5,"type":"column_list","content":["314bb437-f8b5-44ca-a749-b2b1413baa58","c7c8db4e-2a84-4461-9042-c0ccd0c86b7a"],"created_time":1666625040000,"last_edited_time":1666625040000,"parent_id":"72a66971-7cf6-42c2-a252-4439d99d8f44","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}},"e34dbc42-98d0-4e1d-ad9e-dc6631aa7273":{"role":"reader","value":{"id":"e34dbc42-98d0-4e1d-ad9e-dc6631aa7273","version":385,"type":"text","properties":{"title":[["你好呀！欢迎访问我的博客，我是 yangsoon，一名从事 Paas 开发的程序员，一直想写一些不一样的文章，不过一直在当鸽子…"]]},"created_time":1666624500000,"last_edited_time":1666624920000,"parent_id":"dd2baae1-8900-4073-854b-bdde392d5b36","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","last_edited_by_table":"notion_user","last_edited_by_id":"d1805983-7869-451d-bf8b-64135a5d4ee7","space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}}},"collection":{"727d5234-96c8-4e4f-a0c9-26e8fe752701":{"role":"reader","value":{"id":"727d5234-96c8-4e4f-a0c9-26e8fe752701","version":12,"name":[["Kubernetes"]],"schema":{"KJ_W":{"name":"Created","type":"created_time"},"iiEN":{"name":"Text","type":"text"},"jyA\\":{"name":"Tags","type":"multi_select","options":[{"id":"aa6c1932-8930-47a0-99d1-293e9520c67e","color":"red","value":"k8s"},{"id":"1202ec9e-4cef-4ce0-9452-d0ae6d158e42","color":"green","value":"controller"}]},"title":{"name":"Name","type":"title"}},"icon":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/41a889c2-641a-497c-8dec-24d1d7365df5/kubernetes.png","format":{"collection_page_properties":[{"visible":true,"property":"KJ_W"},{"visible":true,"property":"jyA\\"}]},"parent_id":"23b11c7c-8146-4639-912c-14406e078331","parent_table":"block","alive":true,"file_ids":["41a889c2-641a-497c-8dec-24d1d7365df5"],"migrated":true,"space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6","deleted_schema":{"wUJs":{"name":"Text","type":"text"}}}}},"collection_view":{"62cc0356-bb5a-4889-942f-d5babcfa9fbf":{"role":"reader","value":{"id":"62cc0356-bb5a-4889-942f-d5babcfa9fbf","version":22,"type":"gallery","name":"Blog","format":{"gallery_cover":{"type":"page_cover"},"collection_pointer":{"id":"727d5234-96c8-4e4f-a0c9-26e8fe752701","table":"collection","spaceId":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"},"gallery_cover_size":"medium","gallery_properties":[{"visible":true,"property":"title"},{"visible":true,"property":"KJ_W"},{"visible":true,"property":"jyA\\"},{"visible":true,"property":"iiEN"}],"collection_peek_mode":"full_page","gallery_cover_aspect":"cover"},"parent_id":"23b11c7c-8146-4639-912c-14406e078331","parent_table":"block","alive":true,"page_sort":["a83a062f-3de1-479c-8d2c-946829bb2e52","2d0c3c6a-ce52-40fa-82cb-ed4e25b6236c","155e33cf-4e92-4bdf-b8f2-4051f2cedc24","b2f8b515-e34d-46db-8643-272f57aea7ff","b814bca5-82ba-4d18-87b9-294cf5e48dd9"],"query2":{"aggregations":[{"aggregator":"count"}]},"space_id":"fe0e4127-6cf7-4d6d-8491-aa23773532f6"}}},"notion_user":{},"collection_query":{},"signed_urls":{"155e33cf-4e92-4bdf-b8f2-4051f2cedc24":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/b4189bc1-ff7b-4d9c-9c6c-e6f10c2eab06/pexels-dmitriy-ganin-7772722.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230225%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20230225T085839Z\u0026X-Amz-Expires=86400\u0026X-Amz-Signature=d4222e3728eb2eabac48b5778b6b3abcdaf637cb2bda653b030d8050bc0a4252\u0026X-Amz-SignedHeaders=host\u0026x-id=GetObject"},"preview_images":{"notion.so/image/s3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb4189bc1-ff7b-4d9c-9c6c-e6f10c2eab06%2Fpexels-dmitriy-ganin-7772722.jpeg":{"originalWidth":2000,"originalHeight":2588,"dataURIBase64":"data:image/webp;base64,UklGRlIAAABXRUJQVlA4IEYAAADwAQCdASoMABAABUB8JagAAp2XUiJGkgAA/utpbUrgZUYT9E+vVWi6BpPBfw4CuYV6rRyxxcDg2+vR6ptyE/vcreeKAAAA"},"notion.so/image/s3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbbf50f02-aaea-436a-9dfe-f57a580d5daf%2F%E5%BD%93%E5%BF%83%E5%9D%91%E6%B4%9E.svg":{"originalWidth":200,"originalHeight":200,"dataURIBase64":"data:image/webp;base64,UklGRgoBAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSFAAAAARL6CobRs4VET3XouIwDVPsIkkWdU+EPAx55xzFvBg/Yt5oCGi/xOA3EvH7BkpSBEspA4MOQee/AF0JKmAK2gBF5woGBVLTJvY7GNM/EUZFVZQOCCUAAAAkAIAnQEqEAAQAAVAfCWwAnQ4gDeKyIQGFVO7AQAA+NVSVI1aKdsysOHNmQb6/xMqL+haAqsvx9hoe7dRluauen6dQeTPM4NsWp5SASklUnKTzHVER6vUZBemaZYN9Pph4LGj4QLtfsDsBigaROs9reiTlo//5UgdwPRq/+kyWwwdH/uq27DkOnF7TxaxXBNM5AAAAA=="},"notion.so/image/s3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F41a889c2-641a-497c-8dec-24d1d7365df5%2Fkubernetes.png":{"originalWidth":2000,"originalHeight":2000,"dataURIBase64":"data:image/webp;base64,UklGRrgAAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSGsAAAARL6CgbRs2WDbtRuBvERF4egUYRZKkqJf+dAJQAArA+R9M+zdzcRoi+j8B+LtVHxvZA9goygpQ7XcRgF03TmoifR4H2pq7MT3dIGlwSf21NK4uR6i5tOWgwyu1ewVY5VheD0Qh1QDYzrPHTwBWUDggJgAAAJABAJ0BKhAAEAAFQHwloAJ0ugADmAD+4uC+KAUjhzv7ovtRUpgA"},"notion.so/image/s3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F37907dd5-3c76-4966-a419-daa027a84972%2FIMG_2189.jpg":{"originalWidth":2000,"originalHeight":2003,"dataURIBase64":"data:image/webp;base64,UklGRmoAAABXRUJQVlA4IF4AAADQAQCdASoQABAABUB8JbACdAERATxWoAD+0Vlxx+kOh3kDC0Z3s4OjUZzRpnTiXUiN5qtuCLGbw3Q3meKHmbJDj3X9KoWlb/kas/KasMX31nkEcPwD09TPGVsO8AAA"},"notion.so/image/opengraph.githubassets.com%2F3ef884151919bebf9198b841b7c4e2348f284a8cb539de5e1c0cf6ffea2c62b5%2Fkubesphere%2Fconsole":{"originalWidth":2000,"originalHeight":1000,"dataURIBase64":"data:image/webp;base64,UklGRjQAAABXRUJQVlA4ICgAAACwAQCdASoQAAgABUB8JYwAAt1VbDoAAP7rJdDbxhT3hhQPjCnny8AA"},"notion.so/image/github.com%2Ffavicon.ico":null,"notion.so/image/erkanerol.github.io%2Fimg%2Fkubectl-exec%2Fcomponents.png":{"originalWidth":2000,"originalHeight":534,"dataURIBase64":"data:image/webp;base64,UklGRkYAAABXRUJQVlA4IDoAAAAwAgCdASoQAAQABUB8JagCdG1/igAFJrKqtAD8ifOg3YT87XuzToTba2mCJ2vUwKQl6LrwV8KwGAAA"},"notion.so/image/erkanerol.github.io%2Ffavicon.ico":{"originalWidth":32,"originalHeight":32,"dataURIBase64":"data:image/webp;base64,UklGRqoAAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSFsAAAARL6CobRs4WjpVX8c2BIuIwL1osIkkWdU+yvHnZAAv/xLYv5j7+zRE9F9t2zaMPDk9b6ChuE5Geb5PABxi4uOBxwK9IMqvyvSdctk5KKdj2HAJDeL76Z/GfywAAFZQOCAoAAAAkAEAnQEqEAAQAAqAfCWoAnS6AAOYAP7SbdwPT+1Niqn1L8ikWLwAAA=="},"notion.so/image/chenhm.com%2Fpost%2Fimages%2Fcongestion_avoidance.png":{"originalWidth":2000,"originalHeight":872,"dataURIBase64":"data:image/webp;base64,UklGRjYAAABXRUJQVlA4ICoAAADQAQCdASoQAAcABUB8JZQCw7ELS3LbwAD+525ne1lNT3qjiPForF5dAAA="},"notion.so/image/chenhm.com%2Fstatic%2Ficon.png":{"originalWidth":2000,"originalHeight":2000,"dataURIBase64":"data:image/webp;base64,UklGRq4AAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSF0AAAARL6CobSM2Vyal0N+4EREBvnVgGkmyqnkQwPvk8fxHz57zD4ZDiOj/BPBjpfGBYhZaYNPjzcSGgBMGZp84onHnoeIIn3YxcQRKOuuEwkpn2f1NX4ozJ+8sOMApPgMAVlA4ICoAAABwAQCdASoQABAABUB8JbACdAFAAAD+6zb+vVLblo3/yU/+8r/XdswAAAA="},"notion.so/image/kubernetes.org.cn%2Fimg%2F2018%2F07%2Fcropped-con999-192x192.png":{"originalWidth":2000,"originalHeight":2000,"dataURIBase64":"data:image/webp;base64,UklGRvoAAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSFoAAAARL6CobSM2VTp9rxsREVD4BqM2khzVJgKnA7DhAOR/JnCa4Q9mFkRE/ycAyJ5uDmbI8vkCl6h+E5yqqhF+c4CYj6rduvYaYj74zQGnSXCZEeosGhaAOdDNHgBWUDggegAAAFACAJ0BKhAAEAAFQHwlsAJ0Bi1UzVHaA/yzIAD9cFJKjg5xsRzvCVpR01je0Z1cjJF/FFGzX9KHMSuU0FZFMZ6OY5gK2b5oaN3BY5mAe9duMRZogZGmlRFk8ezqOFoUxjy0TtoZjrb7gls+AMtpD1+8sOZGE0kdgAAA"},"notion.so/image/gw.alipayobjects.com%2Fmdn%2Fprod_resource%2Fafts%2Fimg%2FA*VhqdRpl6nbgAAAAAAAAAAAAAARQnAQ":{"originalWidth":2000,"originalHeight":994,"dataURIBase64":"data:image/webp;base64,UklGRk4AAABXRUJQVlA4IEIAAADwAQCdASoQAAgABUB8JZACsAERAsNTzgAA/u/RUv7JizICDfSjGAjE/H+L/K9hdNe+B6PGUxqbJxUa/yV/DJIAAAA="},"notion.so/image/mdn.alipayobjects.com%2Fhuamei_0prmtq%2Fafts%2Fimg%2FA*vMxOQIh4KBMAAAAAAAAAAAAADvuFAQ%2Foriginal":{"originalWidth":2000,"originalHeight":2000,"dataURIBase64":"data:image/webp;base64,UklGRrQAAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSE4AAAARL6AQAAI0F0kAAZxBERHwqYFRG0mOShoId/vfY5AhDIANzR/MpoMQ0f8JgKP6BkRJMiiNE9W11Au599Xej3VQep564ewZtXE4GwMuaQdWUDggQAAAAPABAJ0BKhAAEAAFQHwlsAJ0AQ+GxU4YIAD+7UlpP0mYpo2Cz0UBcWijjjiGS9DrRWf/ARJw9nQB1ZDxXV4P4AA="},"notion.so/image/s3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0dba7a3b-a420-477f-a184-076421f71ce6%2Fexternal-author-literature-flaticons-lineal-color-flat-icons-2.png":{"originalWidth":2000,"originalHeight":2000,"dataURIBase64":"data:image/webp;base64,UklGRgwBAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSGAAAAARL6AgbQMW11J3IiLIXeGqtm1VWU8C+L8A/08DYAGurP5hIERE/yeA3+0soJkbHSD51AvyN6hM+tIvQ7xWfdDFa8qWrFo3BQQdb0DURwsE9VNBVC3YVCvI6gOIagk06z9WUDgghgAAAJACAJ0BKhAAEAAFQHwlsAJ0bX8PHM+2A3mHCuwAAP6hXarNYCY2KwqrvY8iGvMa6audCQRCtiQfjkfHagT2CXq04ZYf9Hwvg3FrJS69z33BCag6X1WhpLOFU896Yvx/Xd9bnVl4h1tNpPLg+3chbfFajbd9/5ZwSqmKkyUQP9VHthLmRgAA"}}},"pageId":"155e33cf-4e92-4bdf-b8f2-4051f2cedc24"},"__N_SSG":true},"page":"/[pageId]","query":{"pageId":"那些年玩-k8s-遇到的坑"},"buildId":"-LOuZR3HdLb_iDPVdL0RX","isFallback":false,"dynamicIds":[635,3358],"gsp":true,"scriptLoader":[]}</script></body></html>